---
- name: "Install MariaDB server"
  become: true
  ansible.builtin.dnf:
    name:
      - mariadb-server
      - python3-PyMySQL
    state: present
  notify: "Enable mariadb service"

- name: "Setup firewall for MySQL"
  become: true
  ansible.posix.firewalld:
    zone: "home"
    service: "mysql"
    state: "enabled"
    permanent: true
    immediate: true

- name: "Flush handlers"
  ansible.builtin.meta:
    flush_handlers
