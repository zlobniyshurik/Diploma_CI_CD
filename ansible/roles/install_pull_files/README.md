# INSTALL_PULL_FILES

## Выполняемые действия

Устанавливает на удалённую машину сервис на основе `rsync`, который автоматически стартует после запуска машины, на которой запущен, после чего выкачивает содержимое каталога другой удалённой машины в каталог машины, где стоит сервис.

*Идеален для выкачивания свежих HTTPS-сертификатов c реверс-прокси сервера после каждой перезагрузки машины, где сервис установлен*

## Переменные

***defaults/main.yml***
| Имя переменной | Описание | Возможные значения | Значение по умолчанию |
| :--- | :--------- | :--- | :--- |
| **install_pull_files_dest_dir** | Локальный каталог, куда выкладываются файлы || **/opt/LEscript/certs/** |
| **install_pull_files_path_ssh_key** | Путь к SSH-ключу, который признаёт удалённая машина || **/root/.ssh/secret.key** |
| **install_pull_files_src_files** | Путь на удалённой машине, где лежат требуемые файлы | *(можно качать и каталоги с подкаталогами)* | **/opt/LEscript/certs/** |
| **install_pull_files_src_login_host** | Строка подключения в формате **login@hostFQDN** || **root@example.com** |
